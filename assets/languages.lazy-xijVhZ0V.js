import{j as e,r as x,g as f,h,i as p,k as N,l as j,f as v,t as l}from"./index-Coxf7N1k.js";import{C as d}from"./card.esm-BZMDtLt4.js";import{D as w}from"./datetime-DcQSltNB.js";function y({promise:s}){var n,r;const i=f(),a=s;if(h(a),a.status==="pending")throw a;if(a.status==="error")throw typeof document<"u"?p(a.error)?(((n=i.options.errorSerializer)==null?void 0:n.deserialize)??N)(a.error.data):a.error:{data:(((r=i.options.errorSerializer)==null?void 0:r.serialize)??j)(a.error),__isServerError:!0};return[a.data,a]}function b(s){const n=e.jsx(D,{...s});return s.fallback?e.jsx(x.Suspense,{fallback:s.fallback,children:n}):n}function D(s){const[n]=y(s);return s.children(n)}const I=s=>s.error,R=s=>{const r=c.useRouteContext().lang,i=e.jsx("a",{href:"http://www.duolingo.com",target:"_blank",children:e.jsx("img",{src:"/duolingo.svg",alt:"Duolingo",className:"p-4"},"duoLogo")},"duoLink");return I(s)?e.jsxs("div",{className:"p-2 text-red-600","data-testid":"duoError",children:[" ",l("duolingo.error",r)]}):e.jsxs(e.Fragment,{children:[e.jsxs(d,{className:"m-2 text-xl",header:i,style:{minWidth:"300px",maxWidth:"300px"},children:[e.jsx("div",{className:"flex m-3 p-2 shadow-6 border-round-lg border-1",children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx("div",{className:"p-2 vertical-align-middle align-content-center",children:e.jsx("img",{src:"/duo-profile.png"})},"duoUsernameImg"),e.jsxs("div",{className:"flex flex-column",children:[e.jsx("div",{className:"p-1",style:{fontFamily:"DIN Next Rounded Bold,sans-serif"},children:s.username},"duoUsernameVal"),e.jsx("div",{className:"p-1",style:{fontFamily:"DIN Next Rounded Regular,sans-serif"},children:l("User ID",r)},"duoUsernameId")]},"duoUsernameTop")]})},"duoUsername"),e.jsx("div",{className:"flex m-3 p-2 shadow-6 border-round-lg border-1",children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx("div",{className:"p-2 vertical-align-middle align-content-center",children:e.jsx("img",{src:"/streak.svg"})},"duoStreakImg"),e.jsxs("div",{className:"flex flex-column",children:[e.jsx("div",{className:"p-1",style:{fontFamily:"DIN Next Rounded Bold,sans-serif"},children:Intl.NumberFormat(l("codepage",r)).format(s.streak)}),e.jsx("div",{className:"p-1",style:{fontFamily:"DIN Next Rounded Regular,sans-serif"},children:l("Day streak",r)})]},"duoStreakTop")]})},"duoStreak"),e.jsx("div",{className:"flex m-3 p-2 shadow-6 border-round-lg border-1",children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx("div",{className:"p-2 vertical-align-middle align-content-center",children:e.jsx("img",{src:"/total-xp.svg"})},"duoStreakImg"),e.jsxs("div",{className:"flex flex-column",children:[e.jsx("div",{className:"p-1",style:{fontFamily:"DIN Next Rounded Bold"},children:Intl.NumberFormat(l("codepage",r)).format(s.totalXp)}),e.jsx("div",{className:"p-1",style:{fontFamily:"DIN Next Rounded Regular,sans-serif"},children:l("Total XP",r)},"duoStreakId")]},"duoStreakTop")]})},"duoUsernameXp"),e.jsx("div",{className:"flex m-3 p-2 shadow-6 border-round-lg border-1",children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx("div",{className:"p-2 vertical-align-middle align-content-center",children:e.jsx("img",{src:"/gafas.svg"})},"duoUsernameDatImg"),e.jsxs("div",{className:"flex flex-column",children:[e.jsx("div",{className:"p-1",style:{fontFamily:"DIN Next Rounded Regular,sans-serif"},children:l("Joined Duolingo on",r)}),e.jsx("div",{className:"p-1",style:{fontFamily:"DIN Next Rounded Bold,sans-serif"},children:w.fromMillis(s.creationDate*1e3).toFormat("dd.MM.yyyy")})]},"duoUsernameDatTop")]})},"duoUsernameDat")]},"duo"),e.jsx(d,{className:"m-0 text-xl",style:{minWidth:"300px",maxWidth:"400px"},children:e.jsx("div",{className:"flex flex-column m-1 p-1 shadow-6 border-round-lg border-1",children:s.courses.map(({id:a,xp:u},o)=>{const t=a.substring(9),m=t.length===8?t.substring(0,5):t.substring(0,2),g=t.length===8?t.substring(6):t.substring(3);return e.jsxs("div",{className:`flex flex-row ${a===s.currentCourseId?"border-3 border-blue-200":"border-bottom-1"}`,children:[e.jsx("div",{className:"flex flex-grow-0 p-1 align-items-center",children:e.jsx("img",{src:`/flags/${m}.webp`,style:{width:"40px"}})},`langFlag${o}`),e.jsxs("div",{className:"flex flex-grow-0 p-1 align-items-center",children:[e.jsx("span",{style:{fontFamily:"DIN Next Rounded Bold,sans-serif"},className:r==="ru"?"font-bold":"","data-testid":`lang-${o}`,children:l(`lang.${m}`,r)}),e.jsxs("span",{style:{fontFamily:"DIN Next Rounded Regular"},"data-testid":`source-lang-${o}`,children:[" (",g.toLocaleLowerCase(),")"]})]},`langName${o}`),e.jsxs("div",{className:"flex flex-grow-1 p-1 justify-content-end align-items-center",style:{fontFamily:"DIN Next Rounded Regular"},children:[Intl.NumberFormat(l("codepage",r)).format(u)," XP"]},`langXp${o}`)]},`langContainer${o}`)})})},"idiomas"),e.jsxs("div",{className:"p-2 text-xs bg-white shadow-1 border-round-lg",children:["Icons made from ",e.jsx("a",{href:"https://www.onlinewebfonts.com/icon",children:"svg icons"})," is licensed by CC BY 4.0"]})]})},c=v("/languages")({component:()=>{const{deferred:s}=c.useLoaderData(),r=c.useRouteContext().lang;return e.jsxs("div",{className:"grid flex-grow-1 overflow-y-scroll p-4 min-w-0 min-h-0 w-full",children:[e.jsxs(d,{title:l("Languages",r),className:"m-2",style:{minWidth:"300px",maxWidth:"300px"},children:[e.jsx("div",{className:"p-2",children:l("Languages p1",r)},"langP1"),e.jsx("div",{className:"p-2",children:l("Languages p2",r)},"langP2"),e.jsx("div",{className:"p-2",children:l("Languages p3",r)},"langP3")]},"intro"),e.jsx(x.Suspense,{fallback:e.jsx("div",{children:"Loading Duolingo data..."}),children:e.jsx(b,{promise:s,children:R})})]})}});export{c as Route};
